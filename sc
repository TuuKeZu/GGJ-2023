
[34mÎ” src/components.rs[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m3[0m:[38;2;248;248;242m [38;2;249;38;114muse[38;2;248;248;242m std::collections::VecDeque; [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34m[38;2;68;68;68m  3 [34mâ‹®[38;2;68;68;68m  3 [34mâ”‚[38;2;249;38;114muse[38;2;248;248;242m bevy::reflect::TypeUuid;[0m
[34m[38;2;68;68;68m  4 [34mâ‹®[38;2;68;68;68m  4 [34mâ”‚[38;2;249;38;114muse[38;2;248;248;242m bevy::{math::[38;2;249;38;114m*[38;2;248;248;242m, prelude::[38;2;249;38;114m*[38;2;248;248;242m};[0m
[34m[38;2;68;68;68m  5 [34mâ‹®[38;2;68;68;68m  5 [34mâ”‚[0m
[34m[38;5;88m  6 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;249;38;114muse[38;2;248;248;242m [38;2;249;38;114mcrate[38;2;248;248;242m::{[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m  7 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;95;26;26;38;2;248;248;242m    [48;2;63;26;26mTexture, [38;2;190;132;255mCURSOR_COLOR[38;2;248;248;242m, [38;2;190;132;255mENEMY_LAYER[38;2;248;248;242m, [38;2;190;132;255mSPRITE_SIZE[38;2;248;248;242m, [48;2;95;26;26;38;2;190;132;255mTILE_COLOR[38;2;248;248;242m, [48;2;63;26;26;38;2;190;132;255mTILE_SIZE[38;2;248;248;242m, [38;2;190;132;255mTIME_STEP[38;2;248;248;242m, [38;2;190;132;255mWALL_COLOR[48;2;95;26;26;38;2;248;248;242m,[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m  8 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m};[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m  6 [34mâ”‚[48;2;26;88;26;38;2;249;38;114muse[38;2;248;248;242m [38;2;249;38;114mcrate[38;2;248;248;242m::{[48;2;26;40;26mTexture, [38;2;190;132;255mCURSOR_COLOR[38;2;248;248;242m, [38;2;190;132;255mENEMY_LAYER[38;2;248;248;242m, [38;2;190;132;255mSPRITE_SIZE[38;2;248;248;242m, [38;2;190;132;255mTILE_SIZE[38;2;248;248;242m, [38;2;190;132;255mTIME_STEP[38;2;248;248;242m, [38;2;190;132;255mWALL_COLOR[48;2;26;88;26;38;2;248;248;242m};[0m[48;2;26;40;26m[0K[0m
[34m[38;2;68;68;68m  9 [34mâ‹®[38;2;68;68;68m  7 [34mâ”‚[0m
[34m[38;2;68;68;68m 10 [34mâ‹®[38;2;68;68;68m  8 [34mâ”‚[38;2;248;248;242m#[derive(serde::Deserialize, TypeUuid, Debug)][0m
[34m[38;2;68;68;68m 11 [34mâ‹®[38;2;68;68;68m  9 [34mâ”‚[38;2;248;248;242m#[uuid [38;2;249;38;114m=[38;2;248;248;242m [38;2;230;219;116m"413be529-bfeb-41b3-9db0-4b8b380a2c46"[38;2;248;248;242m][0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m224[0m:[38;2;248;248;242m [38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mstruct[38;2;248;248;242m [38;2;166;226;46mPathTile[38;2;248;248;242m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34m[38;2;68;68;68m 226[34mâ‹®[38;2;68;68;68m 224[34mâ”‚[0m
[34m[38;2;68;68;68m 227[34mâ‹®[38;2;68;68;68m 225[34mâ”‚[38;2;102;217;239mimpl[38;2;248;248;242m [38;2;166;226;46mPathTile[38;2;248;248;242m {[0m
[34m[38;2;68;68;68m 228[34mâ‹®[38;2;68;68;68m 226[34mâ”‚[38;2;248;248;242m    [38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mfn[38;2;248;248;242m [38;2;166;226;46mnew[38;2;248;248;242m([38;2;253;151;31mposition[38;2;248;248;242m: Vec2) -> [38;2;102;217;239mSelf[38;2;248;248;242m {[0m
[34m[38;5;88m 229[34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m        [38;2;102;217;239mSelf[38;2;248;248;242m {[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m 230[34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m        [48;2;95;26;26m   [48;2;63;26;26m position[48;2;95;26;26m,[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m 231[34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m            [38;2;249;38;114m..[38;2;102;217;239mdefault[38;2;248;248;242m()[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m 232[34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m        }[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 227[34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [48;2;26;88;26;38;2;102;217;239mSelf[38;2;248;248;242m {[48;2;26;40;26m position[48;2;26;88;26m }[0m[48;2;26;40;26m[0K[0m
[34m[38;2;68;68;68m 233[34mâ‹®[38;2;68;68;68m 228[34mâ”‚[38;2;248;248;242m    }[0m
[34m[38;2;68;68;68m 234[34mâ‹®[38;2;68;68;68m 229[34mâ”‚[38;2;248;248;242m}[0m
[34m[38;2;68;68;68m 235[34mâ‹®[38;2;68;68;68m 230[34mâ”‚[0m

[34mÎ” src/main.rs[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m5[0m:[38;2;248;248;242m [38;2;249;38;114muse[38;2;248;248;242m bevy_common_assets::json::JsonAssetPlugin; [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34m[38;2;68;68;68m  5 [34mâ‹®[38;2;68;68;68m  5 [34mâ”‚[38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mmod[38;2;248;248;242m [38;2;166;226;46mcomponents[38;2;248;248;242m;[0m
[34m[38;2;68;68;68m  6 [34mâ‹®[38;2;68;68;68m  6 [34mâ”‚[38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mmod[38;2;248;248;242m [38;2;166;226;46minterpolation[38;2;248;248;242m;[0m
[34m[38;2;68;68;68m  7 [34mâ‹®[38;2;68;68;68m  7 [34mâ”‚[38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mmod[38;2;248;248;242m [38;2;166;226;46msystems[38;2;248;248;242m;[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m  8 [34mâ”‚[48;2;26;40;26;38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mmod[38;2;248;248;242m [38;2;166;226;46mtextures[38;2;248;248;242m;[0m[48;2;26;40;26m[0K[0m
[34m[38;2;68;68;68m  8 [34mâ‹®[38;2;68;68;68m  9 [34mâ”‚[38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mmod[38;2;248;248;242m [38;2;166;226;46mui[38;2;248;248;242m;[0m
[34m[38;2;68;68;68m  9 [34mâ‹®[38;2;68;68;68m 10 [34mâ”‚[0m
[34m[38;2;68;68;68m 10 [34mâ‹®[38;2;68;68;68m 11 [34mâ”‚[38;2;249;38;114muse[38;2;248;248;242m components::[38;2;249;38;114m*[38;2;248;248;242m;[0m
[34m[38;2;68;68;68m 11 [34mâ‹®[38;2;68;68;68m 12 [34mâ”‚[38;2;249;38;114muse[38;2;248;248;242m systems::[38;2;249;38;114m*[38;2;248;248;242m;[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 13 [34mâ”‚[48;2;26;40;26;38;2;249;38;114muse[38;2;248;248;242m textures::[38;2;249;38;114m*[38;2;248;248;242m;[0m[48;2;26;40;26m[0K[0m
[34m[38;2;68;68;68m 12 [34mâ‹®[38;2;68;68;68m 14 [34mâ”‚[38;2;249;38;114muse[38;2;248;248;242m ui::[38;2;249;38;114m*[38;2;248;248;242m;[0m
[34m[38;2;68;68;68m 13 [34mâ‹®[38;2;68;68;68m 15 [34mâ”‚[0m
[34m[38;2;68;68;68m 14 [34mâ‹®[38;2;68;68;68m 16 [34mâ”‚[38;2;117;113;94m// Defines the amount of time that should elapse between each physics step.[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m27[0m:[38;2;248;248;242m [38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mconst[38;2;248;248;242m [38;2;190;132;255mWALL_COLOR[38;2;248;248;242m: Color [38;2;249;38;114m=[38;2;248;248;242m Color::rgb([38;2;190;132;255m1.[38;2;248;248;242m, [38;2;190;132;255m1.[38;2;248;248;242m, [38;2;190;132;255m1.[38;2;248;248;242m); [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34m[38;2;68;68;68m 25 [34mâ‹®[38;2;68;68;68m 27 [34mâ”‚[38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mconst[38;2;248;248;242m [38;2;190;132;255mTEXT_COLOR[38;2;248;248;242m: Color [38;2;249;38;114m=[38;2;248;248;242m Color::rgb([38;2;190;132;255m0.8[38;2;248;248;242m, [38;2;190;132;255m0.8[38;2;248;248;242m, [38;2;190;132;255m1.8[38;2;248;248;242m);[0m
[34m[38;2;68;68;68m 26 [34mâ‹®[38;2;68;68;68m 28 [34mâ”‚[38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mconst[38;2;248;248;242m [38;2;190;132;255mSCORE_COLOR[38;2;248;248;242m: Color [38;2;249;38;114m=[38;2;248;248;242m Color::rgb([38;2;190;132;255m1.0[38;2;248;248;242m, [38;2;190;132;255m0.5[38;2;248;248;242m, [38;2;190;132;255m0.5[38;2;248;248;242m);[0m
[34m[38;2;68;68;68m 27 [34mâ‹®[38;2;68;68;68m 29 [34mâ”‚[38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mconst[38;2;248;248;242m [38;2;190;132;255mERROR_COLOR[38;2;248;248;242m: Color [38;2;249;38;114m=[38;2;248;248;242m Color::rgb([38;2;190;132;255m1.0[38;2;248;248;242m, [38;2;190;132;255m0.[38;2;248;248;242m, [38;2;190;132;255m0.[38;2;248;248;242m);[0m
[34m[38;5;88m 28 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mconst[38;2;248;248;242m [38;2;190;132;255mTILE_COLOR[38;2;248;248;242m: Color [38;2;249;38;114m=[38;2;248;248;242m Color::rgb([38;2;190;132;255m0.2[38;2;248;248;242m, [38;2;190;132;255m0.2[38;2;248;248;242m, [38;2;190;132;255m0.2[38;2;248;248;242m);[0m[48;2;63;26;26m[0K[0m
[34m[38;2;68;68;68m 29 [34mâ‹®[38;2;68;68;68m 30 [34mâ”‚[38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mconst[38;2;248;248;242m [38;2;190;132;255mSTART_COLOR[38;2;248;248;242m: Color [38;2;249;38;114m=[38;2;248;248;242m Color::rgb([38;2;190;132;255m0.[38;2;248;248;242m, [38;2;190;132;255m1.[38;2;248;248;242m, [38;2;190;132;255m0.[38;2;248;248;242m);[0m
[34m[38;2;68;68;68m 30 [34mâ‹®[38;2;68;68;68m 31 [34mâ”‚[38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mconst[38;2;248;248;242m [38;2;190;132;255mEND_COLOR[38;2;248;248;242m: Color [38;2;249;38;114m=[38;2;248;248;242m Color::rgb([38;2;190;132;255m1.[38;2;248;248;242m, [38;2;190;132;255m0.[38;2;248;248;242m, [38;2;190;132;255m0.[38;2;248;248;242m);[0m
[34m[38;2;68;68;68m 31 [34mâ‹®[38;2;68;68;68m 32 [34mâ”‚[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m41[0m:[38;2;248;248;242m [38;2;102;217;239mfn[38;2;248;248;242m [38;2;166;226;46mmain[38;2;248;248;242m() { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34m[38;2;68;68;68m 40 [34mâ‹®[38;2;68;68;68m 41 [34mâ”‚[38;2;248;248;242m    App::new()[0m
[34m[38;2;68;68;68m 41 [34mâ‹®[38;2;68;68;68m 42 [34mâ”‚[38;2;248;248;242m        .[38;2;102;217;239madd_plugins[38;2;248;248;242m(DefaultPlugins.[38;2;102;217;239mset[38;2;248;248;242m(ImagePlugin::default_nearest()))[0m
[34m[38;2;68;68;68m 42 [34mâ‹®[38;2;68;68;68m 43 [34mâ”‚[38;2;248;248;242m        .[38;2;102;217;239madd_plugin[38;2;248;248;242m(JsonAssetPlugin::<Level>::new([38;2;249;38;114m&[38;2;248;248;242m[[38;2;230;219;116m"json"[38;2;248;248;242m]))[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 44 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        .init_resource::<SpriteHandles>()[0m[48;2;26;40;26m[0K[0m
[34m[38;2;68;68;68m 43 [34mâ‹®[38;2;68;68;68m 45 [34mâ”‚[38;2;248;248;242m        .[38;2;102;217;239minsert_resource[38;2;248;248;242m(ClearColor([38;2;190;132;255mBACKGROUND_COLOR[38;2;248;248;242m))[0m
[34m[38;2;68;68;68m 44 [34mâ‹®[38;2;68;68;68m 46 [34mâ”‚[38;2;248;248;242m        .[38;2;102;217;239minsert_resource[38;2;248;248;242m(Menu {[0m
[34m[38;2;68;68;68m 45 [34mâ‹®[38;2;68;68;68m 47 [34mâ”‚[38;2;248;248;242m            current_item: MenuItem::Turret2x2,[0m
[34m[38;2;68;68;68m 46 [34mâ‹®[38;2;68;68;68m 48 [34mâ”‚[38;2;248;248;242m        })[0m
[34m[38;2;68;68;68m 47 [34mâ‹®[38;2;68;68;68m 49 [34mâ”‚[38;2;248;248;242m        .[38;2;102;217;239minsert_resource[38;2;248;248;242m(Path::default())[0m
[34m[38;2;68;68;68m 48 [34mâ‹®[38;2;68;68;68m 50 [34mâ”‚[38;2;248;248;242m        .[38;2;102;217;239madd_state[38;2;248;248;242m(AppState::Loading)[0m
[34m[38;5;88m 49 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m        .[38;2;102;217;239madd_startup_system[38;2;248;248;242m(setup)[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m 50 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m        .[38;2;102;217;239madd_system_set[38;2;248;248;242m(SystemSet::[48;2;95;26;26mon_update[48;2;63;26;26m(AppState::Loading).[38;2;102;217;239mwith_system[38;2;248;248;242m([48;2;95;26;26mspawn_level[48;2;63;26;26m))[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 51 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        .[38;2;102;217;239madd_system_set[38;2;248;248;242m(SystemSet::[48;2;26;88;26mon_enter[48;2;26;40;26m(AppState::Loading).[38;2;102;217;239mwith_system[38;2;248;248;242m([48;2;26;88;26mload_textures[48;2;26;40;26m))[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 52 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        .[38;2;102;217;239madd_system_set[38;2;248;248;242m(SystemSet::on_update(AppState::Loading).[38;2;102;217;239mwith_system[38;2;248;248;242m(check_textures)) [38;2;117;113;94m// sets state = Textures[0m[48;2;26;40;26m[0K[0m
[34m[38;2;68;68;68m 51 [34mâ‹®[38;2;68;68;68m 53 [34mâ”‚[38;2;248;248;242m        .[38;2;102;217;239madd_system_set[38;2;248;248;242m([0m
[34m[38;5;88m 52 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m            SystemSet::new()[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m 53 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m                .[38;2;102;217;239mwith_run_criteria[38;2;248;248;242m(FixedTimestep::step([38;2;190;132;255mTIME_STEP[38;2;248;248;242m [38;2;249;38;114mas[38;2;248;248;242m [38;2;102;217;239mf64[38;2;248;248;242m))[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m 54 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m                .[38;2;102;217;239mwith_system[38;2;248;248;242m(move_cursor)[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m 55 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m                .[38;2;102;217;239mwith_system[38;2;248;248;242m(handle_collisions)[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m 56 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m                .[38;2;102;217;239mwith_system[38;2;248;248;242m([48;2;95;26;26mhandle_place[48;2;63;26;26m.[38;2;102;217;239mafter[38;2;248;248;242m([48;2;95;26;26mhandle_collisions[48;2;63;26;26m))[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m 57 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m                .[38;2;102;217;239mwith_system[38;2;248;248;242m(handle_cursor_visibility)[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m 58 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m                .[38;2;102;217;239mwith_system[38;2;248;248;242m(handle_sell)[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m 59 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m                .[38;2;102;217;239mwith_system[38;2;248;248;242m(handle_shop)[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m 60 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m                .[38;2;102;217;239mwith_system[38;2;248;248;242m(animate_sprite)[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m 61 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m                .[38;2;102;217;239mwith_system[38;2;248;248;242m(game_tick.[38;2;102;217;239mafter[38;2;248;248;242m(animate_sprite)),[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 54 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m            SystemSet::on_enter(AppState::Textures)[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 55 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m                .[38;2;102;217;239mwith_system[38;2;248;248;242m(spawn_level) [38;2;117;113;94m// sets state = Level[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 56 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m                .[38;2;102;217;239mwith_system[38;2;248;248;242m([48;2;26;88;26msetup[48;2;26;40;26m.[38;2;102;217;239mafter[38;2;248;248;242m([48;2;26;88;26mspawn_level[48;2;26;40;26m))[48;2;26;88;26m,[0m[48;2;26;40;26m[0K[0m
[34m[38;2;68;68;68m 62 [34mâ‹®[38;2;68;68;68m 57 [34mâ”‚[38;2;248;248;242m        )[0m
[34m[38;5;88m 63 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m        .[38;2;102;217;239madd_system[38;2;248;248;242m(update_scoreboard)[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 58 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;117;113;94m// .add_system_set([0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 59 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;117;113;94m//     SystemSet::on_enter(AppState::Level)[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 60 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;117;113;94m//         .with_run_criteria(FixedTimestep::step(TIME_STEP as f64))[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 61 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;117;113;94m//         .with_system(move_cursor)[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 62 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;117;113;94m//         .with_system(handle_collisions)[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 63 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;117;113;94m//         .with_system(handle_place.after(handle_collisions))[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 64 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;117;113;94m//         .with_system(handle_cursor_visibility)[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 65 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;117;113;94m//         .with_system(handle_sell)[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 66 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;117;113;94m//         .with_system(handle_shop)[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 67 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;117;113;94m//         .with_system(animate_sprite)[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 68 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;117;113;94m//         .with_system(game_tick.after(animate_sprite)),[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 69 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;117;113;94m// )[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 70 [34mâ”‚[48;2;26;88;26;38;2;248;248;242m [48;2;26;40;26m       [48;2;26;88;26;38;2;117;113;94m//[48;2;26;40;26m .add_system(update_scoreboard)[0m[48;2;26;40;26m[0K[0m
[34m[38;2;68;68;68m 64 [34mâ‹®[38;2;68;68;68m 71 [34mâ”‚[38;2;248;248;242m        .[38;2;102;217;239madd_system[38;2;248;248;242m(bevy::window::close_on_esc)[0m
[34m[38;2;68;68;68m 65 [34mâ‹®[38;2;68;68;68m 72 [34mâ”‚[38;2;248;248;242m        .[38;2;102;217;239mrun[38;2;248;248;242m();[0m
[34m[38;2;68;68;68m 66 [34mâ‹®[38;2;68;68;68m 73 [34mâ”‚[38;2;248;248;242m}[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m75[0m:[38;2;248;248;242m [38;2;102;217;239mfn[38;2;248;248;242m [38;2;166;226;46mmain[38;2;248;248;242m() { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34m[38;2;68;68;68m 68 [34mâ‹®[38;2;68;68;68m 75 [34mâ”‚[38;2;248;248;242m#[derive(Clone, Eq, PartialEq, Debug, Hash)][0m
[34m[38;2;68;68;68m 69 [34mâ‹®[38;2;68;68;68m 76 [34mâ”‚[38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239menum[38;2;248;248;242m [38;2;166;226;46mAppState[38;2;248;248;242m {[0m
[34m[38;2;68;68;68m 70 [34mâ‹®[38;2;68;68;68m 77 [34mâ”‚[38;2;248;248;242m    Loading,[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 78 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m    Textures,[0m[48;2;26;40;26m[0K[0m
[34m[38;2;68;68;68m 71 [34mâ‹®[38;2;68;68;68m 79 [34mâ”‚[38;2;248;248;242m    Level,[0m
[34m[38;2;68;68;68m 72 [34mâ‹®[38;2;68;68;68m 80 [34mâ”‚[38;2;248;248;242m}[0m

[34mÎ” src/systems.rs[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m18[0m:[38;2;248;248;242m [38;2;249;38;114mpub[38;2;248;248;242m [38;2;102;217;239mfn[38;2;248;248;242m [38;2;166;226;46msetup[38;2;248;248;242m( [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34m[38;2;68;68;68m 18 [34mâ‹®[38;2;68;68;68m 18 [34mâ”‚[38;2;248;248;242m    windows: Res<Windows>,[0m
[34m[38;2;68;68;68m 19 [34mâ‹®[38;2;68;68;68m 19 [34mâ”‚[38;2;248;248;242m    asset_server: Res<AssetServer>,[0m
[34m[38;2;68;68;68m 20 [34mâ‹®[38;2;68;68;68m 20 [34mâ”‚[38;2;248;248;242m    [38;2;249;38;114mmut[38;2;248;248;242m images: ResMut<Assets<Image>>,[0m
[34m[38;5;88m 21 [34mâ‹®[38;5;28m    [34mâ”‚[48;2;63;26;26;38;2;248;248;242m    [38;2;249;38;114mmut[38;2;248;248;242m texture_atlases: ResMut<Assets<TextureAtlas>>,[0m[48;2;63;26;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 21 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m    sprite_handles: Res<SpriteHandles>,[0m[48;2;26;40;26m[0K[0m
[34m[38;2;68;68;68m 22 [34mâ‹®[38;2;68;68;68m 22 [34mâ”‚[38;2;248;248;242m) {[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 23 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m    [38;2;102;217;239mlet[38;2;248;248;242m [38;2;249;38;114mmut[38;2;248;248;242m texture_atlas_builder [38;2;249;38;114m=[38;2;248;248;242m TextureAtlasBuilder::default();[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 24 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m    [38;2;249;38;114mfor[38;2;248;248;242m handle [38;2;249;38;114min[38;2;248;248;242m [38;2;249;38;114m&[38;2;248;248;242msprite_handles.handles {[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 25 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;102;217;239mlet[38;2;248;248;242m handle [38;2;249;38;114m=[38;2;248;248;242m handle.[38;2;102;217;239mtyped_weak[38;2;248;248;242m();[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 26 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        [38;2;102;217;239mlet[38;2;248;248;242m texture [38;2;249;38;114m=[38;2;248;248;242m [38;2;249;38;114mif[38;2;248;248;242m [38;2;102;217;239mlet[38;2;248;248;242m [38;2;166;226;46mSome[38;2;248;248;242m(texture) [38;2;249;38;114m=[38;2;248;248;242m images.[38;2;102;217;239mget[38;2;248;248;242m([38;2;249;38;114m&[38;2;248;248;242mhandle) {[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 27 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m            texture[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 28 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        } [38;2;249;38;114melse[38;2;248;248;242m {[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 29 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m            warn!([0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 30 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m                [38;2;230;219;116m"{:?} did not resolve to an `Image` asset."[38;2;248;248;242m,[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 31 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m                asset_server.[38;2;102;217;239mget_handle_path[38;2;248;248;242m(handle)[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 32 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m            );[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 33 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m            [38;2;249;38;114mcontinue[38;2;248;248;242m;[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 34 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        };[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 35 [34mâ”‚[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 36 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m        texture_atlas_builder.[38;2;102;217;239madd_texture[38;2;248;248;242m(handle, texture);[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 37 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m    }[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 38 [34mâ”‚[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 39 [34mâ”‚[48;2;26;40;26;38;2;248;248;242m    texture_atlas_builder.[38;2;102;217;239mfinish[38;2;248;248;242m([38;2;249;38;114m&mut[38;2;248;248;242m images).[38;2;102;217;239munwrap[38;2;248;248;242m(); [38;2;117;113;94m// not sure what to do with the return value of this[0m[48;2;26;40;26m[0K[0m
[34m[38;5;88m    [34mâ‹®[38;5;28m 40 [34mâ”‚[0m[48;2;26;40;26m[0K[0m
[34m[38;2;68;68;68m 23 [34mâ‹®[38;2;68;68;68m 41 [34mâ”‚[38;2;248;248;242m    [38;2;117;113;94m// level[0m
[34m[38;2;68;68;68m 24 [34mâ‹®[38;2;68;68;68m 42 [34mâ”‚[38;2;248;248;242m    [38;2;102;217;239mlet[38;2;248;248;242m level [38;2;249;38;114m=[38;2;248;248;242m LevelHandle(asset_server.[38;2;102;217;239mload[38;2;248;248;242m([38;2;230;219;116m"map.json"[38;2;248;248;242m));[0m
[34m[38;2;68;68;68m 25 [34mâ‹®[38;2;68;68;68m 43 [34mâ”‚[38;2;248;248;242m    commands.[38;2;102;217;239minsert_resource[38;2;248;248;242m(level);[0m
